@using hongWenAPP.Services
@inject AuthenticationService AuthService

<ul class="menu-inner py-1">
    <!-- Dashboard -->
    <li class="menu-item @Html.IsSelected(action: "index", controller: "home")">
        <a href="/home" class="menu-link ">
            <i class="menu-icon icon-base ri ri-home-smile-line"></i>
            <div>Dashboard</div>
        </a>
    </li>
    <!-- Report -->
    <li class="menu-header small text-uppercase" asp-permissions="ViewAccountStatements,ViewAIAReports"><span class="menu-header-text small">Report</span></li>
    <li class="menu-item @Html.IsSelected(action: "ViewStatement", controller: "AccountStatement")" asp-permissions="ViewAccountStatements">
        <a href="@Url.Action("ViewStatement", "AccountStatement")" class="menu-link">
            <i class="menu-icon icon-base ri ri-money-dollar-circle-line"></i>
            ​View E-Satement
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "AIAStatement")" asp-permissions="ViewAIAReports">
        <a href="@Url.Action("index", "AIAStatement")" class="menu-link">
            <i class="menu-icon icon-base ri ri-file-list-3-line"></i>
            ​​AIA Report
        </a>
    </li>
    <li class="menu-header small text-uppercase" asp-permissions="ViewCompanies,ViewRoles,ViewPermissions,ViewAccount,ManageCompany,ViewUsers,ViewCompany,DeleteCompany"><span class="menu-header-text small">User Management</span></li>

    <!-- Role & Permission -->
    <li class="menu-item" asp-permissions="ManageRoles,ViewRoles,DeleteRoles,ViewUsers,ManagePermissions,ViewPermissions,DeletePermissions,ManageCompany,ViewCompany,DeleteCompany">
        <a href="javascript:void(0);" class="menu-link menu-toggle">
            <i class="menu-icon icon-base ri ri-shield-keyhole-line"></i>
            User Managements
        </a>
        <ul class="menu-sub">
            <li class="menu-item @Html.IsSelected(action: "index", controller: "Identity")" asp-permissions="ViewUsers">
                <a href="@Url.Action("Index", "Identity")" class="menu-link">
                    <div>​​Users</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Role", controller: " Identity")" asp-permissions="ManageRoles,ViewRoles,DeleteRoles">
                <a href="@Url.Action("Role", "Identity")" class="menu-link">
                    <div>​​Roles</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Permission", controller: " Identity")" asp-permissions="ManagePermissions,ViewPermissions,DeletePermissions">
                <a href="@Url.Action("Permission", "Identity")" class="menu-link">
                    <div>​​Permissions</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "index", controller: "Company")" asp-permissions="ManageCompany,ViewCompany,DeleteCompany">
                <a href="@Url.Action("Index", "Company")" class="menu-link">
                    <div>​​Company</div>
                </a>
            </li>
        </ul>
    </li>
    

    <li class="menu-header small text-uppercase" asp-permissions="ViewTerm,ViewCourse,ViewClassroom,ViewClassSections,ViewTeacher,ViewLevel"><span class="menu-header-text small">ACADEMIC MANAGEMENT</span></li>
    <li class="menu-item" asp-permissions="ViewTerm,ViewCourse,ViewClassroom,ViewClassSections,ViewTeacher,ManageTerm,DeleteTerm,ManageCourse,ViewLevel,ManageLevel,DeleteLevel,DeleteCourse,DeleteClassroom,ManageClassroom,ManageClassSections,DeleteClassSections">
        <a href="javascript:void(0);" class="menu-link menu-toggle">
            <i class="menu-icon icon-base ri ri-settings-4-line"></i>
            Academic Settings
        </a>
        <ul class="menu-sub">
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " Term")" asp-permissions="ManageTerm,ViewTerm,DeleteTerm">
                <a href="@Url.Action("Index", "Term")" class="menu-link">
                    <div>​​Terms</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " Course")" asp-permissions="ManageCourse,ViewCourse,DeleteCourse">
                <a href="@Url.Action("Index", "Course")" class="menu-link">
                    <div>​​Course</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: "Level")" asp-permissions="ViewLevel,ManageLevel,DeleteLevel">
                <a href="@Url.Action("Index", "Level")" class="menu-link">
                    <div>Level</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " Classroom")" asp-permissions="DeleteClassroom,ViewClassroom,ManageClassroom">
                <a href="@Url.Action("Index", "Classroom")" class="menu-link">
                    <div>Classrooms</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " ClassSection")" asp-permissions="ManageClassSections,ViewClassSections,DeleteClassSections">
                <a href="@Url.Action("Index", "ClassSection")" class="menu-link">
                    <div>Class Sections</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: "Teacher")" asp-permissions="ViewTeacher,ManageTeacher,DeleteTeacher">
                <a href="@Url.Action("Index", "Teacher")" class="menu-link">
                    <div>Teachers</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: "FeeCategory")" asp-permissions="ViewFee,ManageFee,DeleteFee">
                <a href="@Url.Action("Index", "FeeCategory")" class="menu-link">
                    <div>Fee Categories</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: "FeeTemplate")" asp-permissions="ViewFee,ManageFee,DeleteFee">
                <a href="@Url.Action("Index", "FeeTemplate")" class="menu-link">
                    <div>Fee Templates</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: "StudentFee")" asp-permissions="ViewFee,ManageFee,DeleteFee">
                <a href="@Url.Action("Index", "StudentFee")" class="menu-link">
                    <div>Student Fees</div>
                </a>
            </li>
        </ul>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Student")" asp-permissions="ViewStudent,ManageStudent,DeleteStudent">
        <a href="@Url.Action("Index", "Student")" class="menu-link">
            <i class="menu-icon icon-base ri ri-group-line"></i>
            ​​Students
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Enrollment")" asp-permissions="ViewEnrollments,ManageEnrollments,DeleteEnrollments">
        <a href="@Url.Action("Index", "Enrollment")" class="menu-link">
            <i class="menu-icon icon-base ri ri-graduation-cap-line"></i>
            ​​Enrollments
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Waitlist")" asp-permissions="ViewWaitlist,ManageWaitlist,DeleteWaitlist">
        <a href="@Url.Action("Index", "Waitlist")" class="menu-link">
            <i class="menu-icon icon-base ri ri-time-line"></i>
            ​​Waitlist
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Assessment")" asp-permissions="ViewAssessment,ManageAssessment,DeleteAssessment">
        <a href="@Url.Action("Index", "Assessment")" class="menu-link">
            <i class="menu-icon icon-base ri ri-clipboard-line"></i>
            ​​Assessments
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Attendance")" asp-permissions="ViewAttendance,ManageAttendance,DeleteAttendance">
        <a href="@Url.Action("Index", "Attendance")" class="menu-link">
            <i class="menu-icon icon-base ri ri-calendar-check-line"></i>
            ​​Attendance
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Grade")" asp-permissions="ViewGrade,ManageGrade,DeleteGrade">
        <a href="@Url.Action("Index", "Grade")" class="menu-link">
            <i class="menu-icon icon-base ri ri-graduation-cap-line"></i>
            ​​Grades
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Payment")" asp-permissions="ViewPayment,ManagePayment,DeletePayment">
        <a href="@Url.Action("Index", "Payment")" class="menu-link">
            <i class="menu-icon icon-base ri ri-bank-card-line"></i>
            ​​Payments
        </a>
    </li>

   @*  <!-- User Info Section (Show current user info) -->
    @if (AuthService.IsAuthenticated())
    {
        <li class="menu-header small text-uppercase">
            <span class="menu-header-text">User Info</span>
        </li>
        <li class="menu-item">
            <div class="menu-link">
                <i class="menu-icon tf-icons bx bx-user"></i>
                <div>
                    <small class="text-muted">Logged in as:</small><br/>
                    <strong>@AuthService.GetUserInfo()?.Username</strong>
                    @if (!string.IsNullOrEmpty(AuthService.GetUserCompany()?.CompanyName))
                    {
                        <br/><small class="text-muted">@AuthService.GetUserCompany()?.CompanyName</small>
                    }
                </div>
            </div>
        </li>
    } *@

</ul>