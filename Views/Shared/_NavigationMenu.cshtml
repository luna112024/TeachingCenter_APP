@using hongWenAPP.Services
@inject AuthenticationService AuthService

<ul class="menu-inner py-1">
    <!-- Dashboard -->
    <li class="menu-item @Html.IsSelected(action: "index", controller: "home")">
        <a href="/home" class="menu-link ">
            <i class="menu-icon tf-icons bx bx-home-circle"></i>
            <div>Dashboard</div>
        </a>
    </li>
    <!-- Report -->
    <li class="menu-header small text-uppercase" asp-permissions="ViewAccountStatements,ViewAIAReports"><span class="menu-header-text small">Report</span></li>
    <li class="menu-item @Html.IsSelected(action: "ViewStatement", controller: "AccountStatement")" asp-permissions="ViewAccountStatements">
        <a href="@Url.Action("ViewStatement", "AccountStatement")" class="menu-link">
            <i class="menu-icon tf-icons bx bx-dollar-circle"></i>
            ​View E-Satement
        </a>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "AIAStatement")" asp-permissions="ViewAIAReports">
        <a href="@Url.Action("index", "AIAStatement")" class="menu-link">
            <i class="menu-icon tf-icons bx bx-file"></i>
            ​​AIA Report
        </a>
    </li>
    <li class="menu-header small text-uppercase" asp-permissions="ViewCompanies,ViewRoles,ViewPermissions,ViewAccount"><span class="menu-header-text small">User Management</span></li>

    <!-- Users -->
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Identity")" asp-permissions="ViewUsers">
        <a href="@Url.Action("Index", "Identity")" class="menu-link">
            <i class="menu-icon tf-icons bx bx-user"></i>
            Users
        </a>
    </li>

    <!-- Role & Permission -->
    <li class="menu-item" asp-permissions="ManageRoles,ViewRoles,DeleteRoles,ManagePermissions,ViewPermissions,DeletePermissions">
        <a href="javascript:void(0);" class="menu-link menu-toggle">
            <i class="menu-icon tf-icons bx bx-check-shield"></i>
            Role & Permission
        </a>
        <ul class="menu-sub">
            <li class="menu-item @Html.IsSelected(action: "Role", controller: " Identity")" asp-permissions="ManageRoles,ViewRoles,DeleteRoles">
                <a href="@Url.Action("Role", "Identity")" class="menu-link">
                    <div>​​Roles</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Permission", controller: " Identity")" asp-permissions="ManagePermissions,ViewPermissions,DeletePermissions">
                <a href="@Url.Action("Permission", "Identity")" class="menu-link">
                    <div>​​Permissions</div>
                </a>
            </li>
        </ul>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Company")" asp-permissions="ManageCompany,ViewCompany,DeleteCompany">
        <a href="@Url.Action("Index", "Company")" class="menu-link">
            <i class="menu-icon tf-icons bx bx-building-house"></i>
            ​​Company
        </a>
    </li>

    <li class="menu-header small text-uppercase" asp-permissions="ViewTerm,ViewCourse,ViewClassroom,ViewClassSections,ViewTeacher,ViewLevel"><span class="menu-header-text small">ACADEMIC MANAGEMENT</span></li>
    <li class="menu-item" asp-permissions="ViewTerm,ViewCourse,ViewClassroom,ViewClassSections,ViewTeacher,ManageTerm,DeleteTerm,ManageCourse,ViewLevel,ManageLevel,DeleteLevel,DeleteCourse,DeleteClassroom,ManageClassroom,ManageClassSections,DeleteClassSections">
        <a href="javascript:void(0);" class="menu-link menu-toggle">
            <i class="menu-icon tf-icons fa-solid fa-sm fa-sliders"></i>
            Academic Settings
        </a>
        <ul class="menu-sub">
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " Term")" asp-permissions="ManageTerm,ViewTerm,DeleteTerm">
                <a href="@Url.Action("Index", "Term")" class="menu-link">
                    <div>​​Terms</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " Course")" asp-permissions="ManageCourse,ViewCourse,DeleteCourse">
                <a href="@Url.Action("Index", "Course")" class="menu-link">
                    <div>​​Course</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: "Level")" asp-permissions="ViewLevel,ManageLevel,DeleteLevel">
                <a href="@Url.Action("Index", "Level")" class="menu-link">
                    <div>Level</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " Classroom")" asp-permissions="DeleteClassroom,ViewClassroom,ManageClassroom">
                <a href="@Url.Action("Index", "Classroom")" class="menu-link">
                    <div>Classrooms</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: " ClassSection")" asp-permissions="ManageClassSections,ViewClassSections,DeleteClassSections">
                <a href="@Url.Action("Index", "ClassSection")" class="menu-link">
                    <div>Class Sections</div>
                </a>
            </li>
            <li class="menu-item @Html.IsSelected(action: "Index", controller: "Teacher")" asp-permissions="ViewTeacher,ManageTeacher,DeleteTeacher">
                <a href="@Url.Action("Index", "Teacher")" class="menu-link">
                    <div>Teachers</div>
                </a>
            </li>
        </ul>
    </li>
    <li class="menu-item @Html.IsSelected(action: "index", controller: "Company")" asp-permissions="ViewStudent,ManageStudent,DeleteStudent">
        <a href="@Url.Action("Index", "Company")" class="menu-link">
            <i class="menu-icon tf-icons fa-sm fa-solid fa-users"></i>
            ​​Students
        </a>
    </li>

   @*  <!-- User Info Section (Show current user info) -->
    @if (AuthService.IsAuthenticated())
    {
        <li class="menu-header small text-uppercase">
            <span class="menu-header-text">User Info</span>
        </li>
        <li class="menu-item">
            <div class="menu-link">
                <i class="menu-icon tf-icons bx bx-user"></i>
                <div>
                    <small class="text-muted">Logged in as:</small><br/>
                    <strong>@AuthService.GetUserInfo()?.Username</strong>
                    @if (!string.IsNullOrEmpty(AuthService.GetUserCompany()?.CompanyName))
                    {
                        <br/><small class="text-muted">@AuthService.GetUserCompany()?.CompanyName</small>
                    }
                </div>
            </div>
        </li>
    } *@

</ul>